(this["webpackJsonpmultisig-ui"]=this["webpackJsonpmultisig-ui"]||[]).push([[4],{1721:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},1723:function(e,t,a){"use strict";a.r(t),a.d(t,"HomePage",(function(){return Y}));var n,r=a(0),c=a.n(r),l=a(152),u=a(206),s=Object(u.a)((function(){return a.e(6).then(a.bind(null,1726))}),(function(e){return e.Header})),i=Object(u.a)((function(){return a.e(5).then(a.bind(null,1722))}),(function(e){return e.Footer})),o=a(459),m=a(458),d=a(6),b=a.n(d),p=a(93),f=a(151),v=a(117),y=a(354),E=a(457),O={},j=Object(E.a)({name:"multiSigTransactionForm",initialState:O,reducers:{someAction:function(e,t){}}}),g=(j.actions,j.reducer),h=j.name,S=a(94),w=Object(S.a)([function(e){return e.multiSigTransactionForm||O}],(function(e){return e})),x=b.a.mark(T);function T(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),x)}!function(e){e[e.CUSTOM=0]="CUSTOM",e[e.ERC20_TRANSFER=1]="ERC20_TRANSFER"}(n||(n={}));var C=a(1720),N=a(128),k=a.n(N),R=a(133),D=a(1721),M=new k.a;function _(e){var t=Object(r.useState)({receiver:"",amount:""}),a=Object(f.a)(t,2),n=a[0],l=a[1],u=Object(r.useCallback)((function(e){return function(t){var a=t.currentTarget.value;l((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(o.a)({},e,a))}))}}),[]);return Object(r.useEffect)((function(){try{var t=(a=n.receiver,r=Object(R.f)(n.amount),new M.eth.Contract(D).methods.transfer(Object(R.e)(a),r).encodeABI());e.onData(t)}catch(c){console.warn("data error",c.message),e.onData("0x")}var a,r}),[n]),c.a.createElement("section",null,c.a.createElement("h3",{className:"mb-2"},"ERC20.transfer:"),c.a.createElement("div",{className:"md:flex md:space-x-4"},c.a.createElement("div",{className:"md:w-7/12"},c.a.createElement(C.b,{label:"Receiver"},c.a.createElement(C.d,{leftIcon:"user",value:n.receiver,onChange:u("receiver"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),c.a.createElement("div",{className:"md:w-5/12"},c.a.createElement(C.b,{label:"Amount"},c.a.createElement(C.d,{leftIcon:"numerical",value:n.amount,onChange:u("amount"),placeholder:"100.00000"})))))}function F(e){var t=e.type,a=e.value,r=e.onData;switch(t){default:case n.CUSTOM.toString():return c.a.createElement(C.b,{label:"Transaction data"},c.a.createElement(C.d,{leftIcon:"briefcase",value:a.data,onChange:function(e){return r(e.currentTarget.value)},placeholder:"0x"}));case n.ERC20_TRANSFER.toString():return c.a.createElement(_,{onData:function(e){return r(e)},value:a})}}var A=a(454),I=a(63),U=a(55);function H(e,t,a){var n=U.a.getState().blockChainProvider.address;return I.a.send("multiSigWallet","submitTransaction",[Object(R.e)(e),t,a,{from:n}],{type:"submitTransaction"})}function B(e){var t=U.a.getState().blockChainProvider.address;return I.a.send("multiSigWallet","confirmTransaction",[e,{from:t}],{type:"confirmTransaction"})}var J=a(263),P=[{value:n.CUSTOM,label:"Custom data"},{value:n.ERC20_TRANSFER,label:"Transfer ERC20 Token"}];function W(e){Object(y.a)({key:h,reducer:g}),Object(y.b)({key:h,saga:T});var t=Object(v.d)(J.a).chainId,a=(Object(v.d)(w),Object(v.c)(),Object(r.useState)({destination:"",value:"",data:"0x"})),l=Object(f.a)(a,2),u=l[0],s=l[1],i=Object(r.useState)(String(n.ERC20_TRANSFER)),d=Object(f.a)(i,2),E=d[0],O=d[1],j=Object(r.useState)(!1),S=Object(f.a)(j,2),x=S[0],N=S[1],k=Object(r.useState)(!1),D=Object(f.a)(k,2),M=D[0],_=D[1],I=Object(r.useCallback)(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault&&t.preventDefault(),_(!0),e.prev=2,e.next=5,H(u.destination,Object(R.f)(u.value),u.data);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:_(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[u]),U=Object(r.useCallback)((function(e){return function(t){var a=t.currentTarget.value;s((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(o.a)({},e,a))}))}}),[]);return Object(r.useEffect)((function(){try{var e=Object(R.e)(u.destination),t=Object(R.a)(e),a=Object(A.a)(u.value||"0").greaterThanOrEqualTo("0");N(t&&a)}catch(n){N(!1)}}),[u]),c.a.createElement("div",{className:"bg-white rounded shadow p-3"},c.a.createElement("h3",{className:"mb-3 font-semibold"},"Submit Transaction"),c.a.createElement("form",{onSubmit:I},c.a.createElement("div",{className:"md:flex md:space-x-4"},c.a.createElement("div",{className:"md:w-7/12"},c.a.createElement(C.b,{label:"Destination"},c.a.createElement(C.d,{leftIcon:"user",value:u.destination,onChange:U("destination"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),c.a.createElement("div",{className:"md:w-5/12"},c.a.createElement(C.b,{label:[30,31].includes(t)?"rBTC amount":"ETH amount"},c.a.createElement(C.d,{leftIcon:"numerical",value:u.value,onChange:U("value"),placeholder:"0.001",rightElement:c.a.createElement("div",{className:"py-2 px-3 text-xs text-gray-500"},[30,31].includes(t)?"rBTC":"ETH")})))),c.a.createElement(F,{value:u,type:E,onData:function(e){return s((function(t){return Object(m.a)(Object(m.a)({},t),{},{data:e})}))}}),c.a.createElement("div",{className:"p-3 bg-gray-300 text-sm break-all mb-3"},u.data),c.a.createElement("div",{className:"flex justify-between space-x items-center"},c.a.createElement(C.c,{options:P,value:E,onChange:function(e){return O(e.currentTarget.value)}}),c.a.createElement(C.a,{type:"submit",icon:"send-to",text:"Submit Transaction",disabled:!x||M,loading:M}))))}var q={},z=Object(E.a)({name:"multiSignConfirmTransactionForm",initialState:q,reducers:{someAction:function(e,t){}}}),G=(z.actions,z.reducer),K=z.name,L=Object(S.a)([function(e){return e.multiSignConfirmTransactionForm||q}],(function(e){return e})),Q=b.a.mark(V);function V(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),Q)}function X(e){Object(y.a)({key:K,reducer:G}),Object(y.b)({key:K,saga:V});Object(v.d)(L),Object(v.c)();var t=Object(r.useState)(""),a=Object(f.a)(t,2),n=a[0],l=a[1],u=Object(r.useState)(!1),s=Object(f.a)(u,2),i=s[0],o=s[1],m=Object(r.useState)(!1),d=Object(f.a)(m,2),E=d[0],O=d[1],j=Object(r.useCallback)(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault&&t.preventDefault(),O(!0),e.prev=2,e.next=5,B(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:O(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[n]);return Object(r.useEffect)((function(){o(!!n)}),[n]),c.a.createElement("div",{className:"bg-white rounded shadow p-3"},c.a.createElement("h3",{className:"mb-3 font-semibold"},"Confirm Transaction"),c.a.createElement("form",{onSubmit:j},c.a.createElement(C.b,{label:"Transaction ID"},c.a.createElement(C.d,{leftIcon:"numerical",value:n,onChange:function(e){return l(e.currentTarget.value)},placeholder:"1"})),c.a.createElement(C.a,{type:"submit",fill:!0,icon:"send-to",text:"Confirm Transaction",disabled:!i||E,loading:E})))}function Y(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,null,c.a.createElement("title",null,"Sovryn MultiSig"),c.a.createElement("meta",{name:"description",content:"MultiSig UI"})),c.a.createElement(s,null),c.a.createElement("main",{className:"w-full flex-grow"},c.a.createElement("div",{className:"bg-black"},c.a.createElement("div",{className:"container"},c.a.createElement("h2",{className:"text-white pt-20 pb-8"},"Sovryn MultiSig"))),c.a.createElement("div",{className:"container py-5"},c.a.createElement(W,null),c.a.createElement("div",{className:"mt-5 md:flex md:flex-row md:space-x-4"},c.a.createElement("div",{className:"md:w-4/12"},c.a.createElement(X,null))))),c.a.createElement(i,null))}}}]);