(this["webpackJsonpmultisig-ui"]=this["webpackJsonpmultisig-ui"]||[]).push([[4],{1723:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(133),r=a(0),c=a.n(r),l=a(117),s=a(150),u=a(264);function i(e){var t=Object(r.useCallback)((function(){if(e.txHash&&e.startLength&&e.endLength){var t=e.txHash.substr(0,e.startLength),a=e.txHash.substr(-e.endLength);return"".concat(t," \xb7\xb7\xb7 ").concat(a)}return e.txHash}),[e.txHash,e.startLength,e.endLength]),a=Object(l.d)(u.a).chainId,i=Object(r.useCallback)((function(){return s.a[a]}),[a]),o=Object(r.useState)(t()),m=Object(n.a)(o,2),f=m[0],d=m[1],b=Object(r.useState)(i()),p=Object(n.a)(b,2),v=p[0],E=p[1];return Object(r.useEffect)((function(){d(t())}),[t,e.txHash,e.startLength,e.endLength]),Object(r.useEffect)((function(){E(i())}),[a,i]),c.a.createElement("a",{className:e.className,href:"".concat(v,"/").concat(e.isAddress?"address":"tx","/").concat(e.txHash),target:"_blank",rel:"noreferrer noopener"},f)}i.defaultProps={startLength:10,endLength:4,className:"ml-1 text-white"}},1724:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},1727:function(e,t,a){"use strict";a.r(t),a.d(t,"HomePage",(function(){return pe}));var n,r=a(133),c=a(0),l=a.n(c),s=a(151),u=a(205),i=Object(u.a)((function(){return a.e(6).then(a.bind(null,1729))}),(function(e){return e.Header})),o=Object(u.a)((function(){return a.e(5).then(a.bind(null,1726))}),(function(e){return e.Footer})),m=a(105),f=a(458),d=a(457),b=a(6),p=a.n(b),v=a(74),E=a(117),g=a(325),h=a(454),y=Object(h.a)({name:"multiSigTransactionForm",initialState:{},reducers:{someAction:function(e,t){}}}),O=(y.actions,y.reducer),j=y.name,x=p.a.mark(w);function w(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),x)}!function(e){e[e.CUSTOM=0]="CUSTOM",e[e.ERC20_TRANSFER=1]="ERC20_TRANSFER"}(n||(n={}));var S=a(1722),N=a(128),k=a.n(N),C=a(141),T=a(1724),I=a(62),R=a(453),D=new k.a,M={},_={};function F(e){return M.hasOwnProperty(e)||(M[e]=new I.a.web3.eth.Contract(T,e)),M[e]}function H(e,t){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.hasOwnProperty(t)){e.next=4;break}return e.next=3,a.methods.decimals().call();case 3:_[t]=e.sent;case 4:return e.abrupt("return",Number(_[t]));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,a){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(p.a.mark((function e(t,a,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0x");case 2:return e.prev=2,r=F(t),e.next=6,H(t,r);case 6:return c=e.sent,e.abrupt("return",r.methods.transfer(Object(C.e)(a),Object(R.a)(n).mul(Math.pow(10,c)).toFixed(0)).encodeABI());case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return","0x");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function B(e){try{var t=D.eth.abi.encodeFunctionSignature("transfer(address,uint256)");return{signature:t,data:e.substr(t.length),decoded:D.eth.abi.decodeParameters(["address","uint256"],e.substr(t.length))}}catch(a){return console.error(a),null}}function U(e){var t=Object(c.useState)({receiver:"",amount:""}),a=Object(r.a)(t,2),n=a[0],s=a[1],u=Object(c.useCallback)((function(e){return function(t){var a=t.currentTarget.value;s((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(f.a)({},e,a))}))}}),[]);return Object(c.useEffect)((function(){try{(function(){var t=Object(v.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e.value.destination,n.receiver,n.amount||"0");case 2:return(a=t.sent)&&"0x"!==a&&console.log(B(a)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then(e.onData)}catch(t){e.onData("0x")}}),[n,e.value.destination]),l.a.createElement("section",null,l.a.createElement("h3",{className:"mb-2"},"ERC20.transfer:"),l.a.createElement("div",{className:"md:flex md:space-x-4"},l.a.createElement("div",{className:"md:w-7/12"},l.a.createElement(S.b,{label:"Receiver"},l.a.createElement(S.d,{leftIcon:"user",value:n.receiver,onChange:u("receiver"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),l.a.createElement("div",{className:"md:w-5/12"},l.a.createElement(S.b,{label:"Amount"},l.a.createElement(S.d,{leftIcon:"numerical",value:n.amount,onChange:u("amount"),placeholder:"100.00000"})))))}function V(e){var t=e.type,a=e.value,r=e.onData;switch(t){default:case n.CUSTOM.toString():return l.a.createElement(S.b,{label:"Transaction data"},l.a.createElement(S.d,{leftIcon:"briefcase",value:a.data,onChange:function(e){return r(e.currentTarget.value)},placeholder:"0x"}));case n.ERC20_TRANSFER.toString():return l.a.createElement(U,{onData:function(e){return r(e)},value:a})}}var J=a(55);function W(e,t,a,n){var r=J.a.getState().blockChainProvider.address;return I.a.send("multiSigWallet","submitTransaction",[Object(C.e)(e),t,a,{from:r,gasPrice:n}],{type:"submitTransaction"})}function z(e,t){var a=J.a.getState().blockChainProvider.address;return I.a.send("multiSigWallet","confirmTransaction",[e,{from:a,gasPrice:t}],{type:"confirmTransaction"})}var G=a(264),q=a(150);function K(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],l=Object(c.useState)("0.065"),s=Object(r.a)(l,2),u=s[0],i=s[1],o=Object(c.useState)("0.065"),m=Object(r.a)(o,2),f=m[0],d=m[1],b=Object(c.useRef)(!1);return Object(c.useEffect)((function(){n(!0),I.a.gasPrice().then((function(e){b.current||i(String(e)),d(String(e))})).catch(console.error).finally((function(){return n(!1)}))}),[]),{value:u,onChainValue:f,loading:a,set:Object(c.useCallback)((function(e){i(String(e)),b.current=!0}),[])}}var Q=[{value:n.CUSTOM,label:"Custom data"},{value:n.ERC20_TRANSFER,label:"Transfer ERC20 Token"}];function X(e){Object(g.a)({key:j,reducer:O}),Object(g.b)({key:j,saga:w});var t=Object(E.d)(G.a),a=t.chainId,s=t.network,u=K(),i=Object(c.useState)({destination:"",value:"",data:"0x"}),o=Object(r.a)(i,2),b=o[0],h=o[1],y=Object(c.useState)(String(n.ERC20_TRANSFER)),x=Object(r.a)(y,2),N=x[0],k=x[1],T=Object(c.useState)(!1),I=Object(r.a)(T,2),D=I[0],M=I[1],_=Object(c.useState)(!1),F=Object(r.a)(_,2),H=F[0],L=F[1],P=Object(c.useState)([]),A=Object(r.a)(P,2),B=A[0],U=A[1],J=Object(c.useCallback)(function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault&&t.preventDefault(),L(!0),e.prev=2,e.next=5,W(b.destination,Object(C.f)(b.value),b.data,(1e9*Number(u.value)).toString());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:L(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[b,u.value]),z=Object(c.useCallback)((function(e){return function(t){var a=t.currentTarget.value;h((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(f.a)({},e,a))}))}}),[]);return Object(c.useEffect)((function(){try{var e=Object(C.e)(b.destination),t=Object(C.a)(e),a=Object(R.a)(b.value||"0").greaterThanOrEqualTo("0");M(t&&a)}catch(n){M(!1)}}),[b]),Object(c.useEffect)((function(){U([{value:"",label:"Custom"}].concat(Object(m.a)(q.c[s])))}),[s]),l.a.createElement("div",{className:"bg-white rounded shadow p-3 lg:flex-1"},l.a.createElement("h3",{className:"mb-3 font-semibold"},"Submit Transaction"),l.a.createElement("form",{onSubmit:J},l.a.createElement("div",{className:"md:flex md:space-x-4"},l.a.createElement("div",{className:"md:w-7/12"},l.a.createElement(S.b,{label:"Destination"},l.a.createElement(S.d,{leftElement:l.a.createElement(S.c,{className:"mr-3",onChange:function(e){return h((function(t){return Object(d.a)(Object(d.a)({},t),{},{destination:e.currentTarget.value})}))},options:B,value:b.destination}),value:b.destination,onChange:z("destination"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),l.a.createElement("div",{className:"md:w-5/12"},l.a.createElement(S.b,{label:[30,31].includes(a)?"rBTC amount":"ETH amount"},l.a.createElement(S.d,{leftIcon:"numerical",value:b.value,onChange:z("value"),placeholder:"0.001",rightElement:l.a.createElement("div",{className:"py-2 px-3 text-xs text-gray-500"},[30,31].includes(a)?"rBTC":"ETH")})))),l.a.createElement(V,{value:b,type:N,onData:function(e){return h((function(t){return Object(d.a)(Object(d.a)({},t),{},{data:e})}))}}),l.a.createElement("div",{className:"p-3 bg-gray-300 text-sm break-all mb-3"},b.data),l.a.createElement("div",{className:"md:flex md:space-x-4 mt-4"},l.a.createElement("div",{className:"md:w-6/12"},l.a.createElement(S.b,{label:"Gas Price (gwei)"},l.a.createElement(S.d,{leftIcon:"numerical",value:u.value,onChange:function(e){return u.set(e.currentTarget.value)},placeholder:"0.065",rightElement:u.loading?l.a.createElement(S.e,{size:16}):l.a.createElement(l.a.Fragment,null)})))),l.a.createElement("div",{className:"flex justify-between space-x items-center"},l.a.createElement(S.c,{options:Q,value:N,onChange:function(e){return k(e.currentTarget.value)}}),l.a.createElement(S.a,{type:"submit",icon:"send-to",text:"Submit Transaction",disabled:!D||H,loading:H}))))}var Y=Object(h.a)({name:"multiSignConfirmTransactionForm",initialState:{},reducers:{someAction:function(e,t){}}}),Z=(Y.actions,Y.reducer),$=Y.name,ee=p.a.mark(te);function te(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ee)}function ae(e){Object(g.a)({key:$,reducer:Z}),Object(g.b)({key:$,saga:te});var t=K(),a=Object(c.useState)(e.transactionId),n=Object(r.a)(a,2),s=n[0],u=n[1],i=Object(c.useState)(!1),o=Object(r.a)(i,2),m=o[0],f=o[1],d=Object(c.useState)(!1),b=Object(r.a)(d,2),E=b[0],h=b[1],y=Object(c.useCallback)(function(){var e=Object(v.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&a.preventDefault&&a.preventDefault(),h(!0),e.prev=2,e.next=5,z(s,(1e9*Number(t.value)).toString());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:h(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[s,t.value]);return Object(c.useEffect)((function(){f(!!s)}),[s]),Object(c.useEffect)((function(){u(e.transactionId)}),[e.transactionId]),l.a.createElement("div",{className:"bg-white rounded shadow p-3 lg:flex-1"},l.a.createElement("h3",{className:"mb-3 font-semibold"},"Confirm Transaction"),l.a.createElement("form",{onSubmit:y},l.a.createElement(S.b,{label:"Transaction ID"},l.a.createElement(S.d,{leftIcon:"numerical",value:s,onChange:function(e){return u(e.currentTarget.value)},placeholder:"1"})),l.a.createElement(S.b,{label:"Gas Price (gwei)"},l.a.createElement(S.d,{leftIcon:"numerical",value:t.value,onChange:function(e){return t.set(e.currentTarget.value)},placeholder:"0.065",rightElement:t.loading?l.a.createElement(S.e,{size:16}):l.a.createElement(l.a.Fragment,null)})),l.a.createElement(S.a,{type:"submit",fill:!0,icon:"send-to",text:"Confirm Transaction",disabled:!m||E,loading:E})))}var ne={},re=Object(h.a)({name:"eventContainer",initialState:ne,reducers:{someAction:function(e,t){}}}),ce=(re.actions,re.reducer),le=re.name,se=a(94),ue=Object(se.a)([function(e){return e.eventContainer||ne}],(function(e){return e})),ie=p.a.mark(oe);function oe(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ie)}var me=a(717),fe=a(1723);function de(e){Object(g.a)({key:le,reducer:ce}),Object(g.b)({key:le,saga:oe});Object(E.d)(ue);var t=Object(E.d)(G.a).syncBlockNumber,a=(Object(E.c)(),Object(c.useState)(!0)),n=Object(r.a)(a,2),s=n[0],u=n[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),m=o[0],f=o[1];Object(c.useEffect)((function(){u(!0),function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.block();case 2:return t=e.sent,e.next=5,I.a.getPastEvents("multiSigWallet","Submission",{},t-4999);case 5:a=e.sent,f(a.reverse().slice(0,3)),u(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then().catch(console.error)}),[t]);var d=Object(c.useCallback)((function(t){e.onSelect(t)}),[e]);return l.a.createElement("div",{className:"bg-white rounded shadow p-3 w-full"},l.a.createElement("h3",{className:"mb-3 font-semibold"},"Last submissions"),s&&l.a.createElement("div",{className:"flex w-full flex-col space-y-4"},l.a.createElement(me.b,null),l.a.createElement(me.b,null),l.a.createElement(me.b,null)),!s&&0===m.length&&l.a.createElement(l.a.Fragment,null,"No submissions in last ",4999," blocks."),!s&&m.length>0&&l.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-1 gap-4"},m.map((function(e){return l.a.createElement(be,{key:e.returnValues.transactionId,item:e,onSelect:d})}))))}function be(e){var t=e.item,a=e.onSelect,n=Object(c.useCallback)((function(e){a(e)}),[a]);return l.a.createElement("div",{className:"rounded shadow p-3 text-xs lg:flex-1"},l.a.createElement("div",{className:"flex flex-row justify-between space-x-4 mb-2"},l.a.createElement("div",{className:"text-gray-600"},"Tx ID:"),l.a.createElement("div",null,l.a.createElement("a",{href:"#!",onClick:function(){return n(t.returnValues.transactionId)}},t.returnValues.transactionId.toLocaleString()))),l.a.createElement("div",{className:"flex flex-row justify-between space-x-4 mb-2"},l.a.createElement("div",{className:"text-gray-600"},"Block:"),l.a.createElement("div",null,t.blockNumber.toLocaleString())),l.a.createElement("div",{className:"flex flex-row justify-between space-x-4"},l.a.createElement("div",{className:"text-gray-600"},"Tx Hash:"),l.a.createElement("div",null,l.a.createElement(fe.a,{txHash:t.transactionHash,className:"text-black hover:text-gray-700"}))))}function pe(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],n=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,null,l.a.createElement("title",null,"Sovryn MultiSig"),l.a.createElement("meta",{name:"description",content:"MultiSig UI"})),l.a.createElement(i,null),l.a.createElement("main",{className:"w-full flex-grow"},l.a.createElement("div",{className:"bg-black"},l.a.createElement("div",{className:"container"},l.a.createElement("h2",{className:"text-white pt-20 pb-8"},"Sovryn MultiSig"))),l.a.createElement("div",{className:"container py-5"},l.a.createElement("div",{className:"lg:flex lg:flex-row lg:space-x-4"},l.a.createElement("div",{className:"lg:w-6/12 lg:flex"},l.a.createElement(X,null)),l.a.createElement("div",{className:"lg:w-6/12"},l.a.createElement("div",{className:"mt-5 lg:mt-0 lg:flex-grow md:flex md:flex-row md:space-x-4"},l.a.createElement("div",{className:"md:w-4/12 lg:w-6/12 lg:flex"},l.a.createElement(ae,{transactionId:a})),l.a.createElement("div",{className:"mt-5 md:mt-0 md:w-8/12 lg:w-6/12 lg:flex"},l.a.createElement(de,{onSelect:function(e){return n(e)}}))))))),l.a.createElement(o,null))}}}]);