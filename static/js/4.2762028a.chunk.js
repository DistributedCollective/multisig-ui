(this["webpackJsonpmultisig-ui"]=this["webpackJsonpmultisig-ui"]||[]).push([[4],{1722:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(133),r=a(0),c=a.n(r),s=a(117),l=a(177),u=a(263);function i(e){var t=Object(r.useCallback)((function(){if(e.txHash&&e.startLength&&e.endLength){var t=e.txHash.substr(0,e.startLength),a=e.txHash.substr(-e.endLength);return"".concat(t," \xb7\xb7\xb7 ").concat(a)}return e.txHash}),[e.txHash,e.startLength,e.endLength]),a=Object(s.d)(u.a).chainId,i=Object(r.useCallback)((function(){return l.a[a]}),[a]),o=Object(r.useState)(t()),m=Object(n.a)(o,2),b=m[0],d=m[1],f=Object(r.useState)(i()),p=Object(n.a)(f,2),v=p[0],y=p[1];return Object(r.useEffect)((function(){d(t())}),[t,e.txHash,e.startLength,e.endLength]),Object(r.useEffect)((function(){y(i())}),[a,i]),c.a.createElement("a",{className:e.className,href:"".concat(v,"/").concat(e.isAddress?"address":"tx","/").concat(e.txHash),target:"_blank",rel:"noreferrer noopener"},b)}i.defaultProps={startLength:10,endLength:4,className:"ml-1 text-white"}},1723:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},1726:function(e,t,a){"use strict";a.r(t),a.d(t,"HomePage",(function(){return ue}));var n,r=a(133),c=a(0),s=a.n(c),l=a(152),u=a(206),i=Object(u.a)((function(){return a.e(6).then(a.bind(null,1728))}),(function(e){return e.Header})),o=Object(u.a)((function(){return a.e(5).then(a.bind(null,1725))}),(function(e){return e.Footer})),m=a(459),b=a(458),d=a(6),f=a.n(d),p=a(81),v=a(117),y=a(325),E=a(455),O={},j=Object(E.a)({name:"multiSigTransactionForm",initialState:O,reducers:{someAction:function(e,t){}}}),h=(j.actions,j.reducer),g=j.name,x=a(94),S=Object(x.a)([function(e){return e.multiSigTransactionForm||O}],(function(e){return e})),w=f.a.mark(N);function N(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),w)}!function(e){e[e.CUSTOM=0]="CUSTOM",e[e.ERC20_TRANSFER=1]="ERC20_TRANSFER"}(n||(n={}));var k=a(1721),C=a(128),T=a.n(C),I=a(134),D=a(1723),R=new T.a;function M(e){var t=Object(c.useState)({receiver:"",amount:""}),a=Object(r.a)(t,2),n=a[0],l=a[1],u=Object(c.useCallback)((function(e){return function(t){var a=t.currentTarget.value;l((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,a))}))}}),[]);return Object(c.useEffect)((function(){try{var t=(a=n.receiver,r=Object(I.f)(n.amount),new R.eth.Contract(D).methods.transfer(Object(I.e)(a),r).encodeABI());e.onData(t)}catch(c){console.warn("data error",c.message),e.onData("0x")}var a,r}),[n]),s.a.createElement("section",null,s.a.createElement("h3",{className:"mb-2"},"ERC20.transfer:"),s.a.createElement("div",{className:"md:flex md:space-x-4"},s.a.createElement("div",{className:"md:w-7/12"},s.a.createElement(k.b,{label:"Receiver"},s.a.createElement(k.d,{leftIcon:"user",value:n.receiver,onChange:u("receiver"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),s.a.createElement("div",{className:"md:w-5/12"},s.a.createElement(k.b,{label:"Amount"},s.a.createElement(k.d,{leftIcon:"numerical",value:n.amount,onChange:u("amount"),placeholder:"100.00000"})))))}function _(e){var t=e.type,a=e.value,r=e.onData;switch(t){default:case n.CUSTOM.toString():return s.a.createElement(k.b,{label:"Transaction data"},s.a.createElement(k.d,{leftIcon:"briefcase",value:a.data,onChange:function(e){return r(e.currentTarget.value)},placeholder:"0x"}));case n.ERC20_TRANSFER.toString():return s.a.createElement(M,{onData:function(e){return r(e)},value:a})}}var H=a(454),F=a(63),L=a(55);function A(e,t,a){var n=L.a.getState().blockChainProvider.address;return F.a.send("multiSigWallet","submitTransaction",[Object(I.e)(e),t,a,{from:n}],{type:"submitTransaction"})}function B(e){var t=L.a.getState().blockChainProvider.address;return F.a.send("multiSigWallet","confirmTransaction",[e,{from:t}],{type:"confirmTransaction"})}var P=a(263),U=[{value:n.CUSTOM,label:"Custom data"},{value:n.ERC20_TRANSFER,label:"Transfer ERC20 Token"}];function J(e){Object(y.a)({key:g,reducer:h}),Object(y.b)({key:g,saga:N});var t=Object(v.d)(P.a).chainId,a=(Object(v.d)(S),Object(v.c)(),Object(c.useState)({destination:"",value:"",data:"0x"})),l=Object(r.a)(a,2),u=l[0],i=l[1],o=Object(c.useState)(String(n.ERC20_TRANSFER)),d=Object(r.a)(o,2),E=d[0],O=d[1],j=Object(c.useState)(!1),x=Object(r.a)(j,2),w=x[0],C=x[1],T=Object(c.useState)(!1),D=Object(r.a)(T,2),R=D[0],M=D[1],F=Object(c.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault&&t.preventDefault(),M(!0),e.prev=2,e.next=5,A(u.destination,Object(I.f)(u.value),u.data);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:M(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[u]),L=Object(c.useCallback)((function(e){return function(t){var a=t.currentTarget.value;i((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,a))}))}}),[]);return Object(c.useEffect)((function(){try{var e=Object(I.e)(u.destination),t=Object(I.a)(e),a=Object(H.a)(u.value||"0").greaterThanOrEqualTo("0");C(t&&a)}catch(n){C(!1)}}),[u]),s.a.createElement("div",{className:"bg-white rounded shadow p-3"},s.a.createElement("h3",{className:"mb-3 font-semibold"},"Submit Transaction"),s.a.createElement("form",{onSubmit:F},s.a.createElement("div",{className:"md:flex md:space-x-4"},s.a.createElement("div",{className:"md:w-7/12"},s.a.createElement(k.b,{label:"Destination"},s.a.createElement(k.d,{leftIcon:"user",value:u.destination,onChange:L("destination"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),s.a.createElement("div",{className:"md:w-5/12"},s.a.createElement(k.b,{label:[30,31].includes(t)?"rBTC amount":"ETH amount"},s.a.createElement(k.d,{leftIcon:"numerical",value:u.value,onChange:L("value"),placeholder:"0.001",rightElement:s.a.createElement("div",{className:"py-2 px-3 text-xs text-gray-500"},[30,31].includes(t)?"rBTC":"ETH")})))),s.a.createElement(_,{value:u,type:E,onData:function(e){return i((function(t){return Object(b.a)(Object(b.a)({},t),{},{data:e})}))}}),s.a.createElement("div",{className:"p-3 bg-gray-300 text-sm break-all mb-3"},u.data),s.a.createElement("div",{className:"flex justify-between space-x items-center"},s.a.createElement(k.c,{options:U,value:E,onChange:function(e){return O(e.currentTarget.value)}}),s.a.createElement(k.a,{type:"submit",icon:"send-to",text:"Submit Transaction",disabled:!w||R,loading:R}))))}var V={},W=Object(E.a)({name:"multiSignConfirmTransactionForm",initialState:V,reducers:{someAction:function(e,t){}}}),q=(W.actions,W.reducer),z=W.name,G=Object(x.a)([function(e){return e.multiSignConfirmTransactionForm||V}],(function(e){return e})),K=f.a.mark(Q);function Q(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),K)}function X(e){Object(y.a)({key:z,reducer:q}),Object(y.b)({key:z,saga:Q});Object(v.d)(G),Object(v.c)();var t=Object(c.useState)(e.transactionId),a=Object(r.a)(t,2),n=a[0],l=a[1],u=Object(c.useState)(!1),i=Object(r.a)(u,2),o=i[0],m=i[1],b=Object(c.useState)(!1),d=Object(r.a)(b,2),E=d[0],O=d[1],j=Object(c.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault&&t.preventDefault(),O(!0),e.prev=2,e.next=5,B(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:O(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[n]);return Object(c.useEffect)((function(){m(!!n)}),[n]),Object(c.useEffect)((function(){l(e.transactionId)}),[e.transactionId]),s.a.createElement("div",{className:"bg-white rounded shadow p-3"},s.a.createElement("h3",{className:"mb-3 font-semibold"},"Confirm Transaction"),s.a.createElement("form",{onSubmit:j},s.a.createElement(k.b,{label:"Transaction ID"},s.a.createElement(k.d,{leftIcon:"numerical",value:n,onChange:function(e){return l(e.currentTarget.value)},placeholder:"1"})),s.a.createElement(k.a,{type:"submit",fill:!0,icon:"send-to",text:"Confirm Transaction",disabled:!o||E,loading:E})))}var Y={},Z=Object(E.a)({name:"eventContainer",initialState:Y,reducers:{someAction:function(e,t){}}}),$=(Z.actions,Z.reducer),ee=Z.name,te=Object(x.a)([function(e){return e.eventContainer||Y}],(function(e){return e})),ae=f.a.mark(ne);function ne(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ae)}var re=a(715),ce=a(1722);function se(e){Object(y.a)({key:ee,reducer:$}),Object(y.b)({key:ee,saga:ne});Object(v.d)(te);var t=Object(v.d)(P.a).syncBlockNumber,a=(Object(v.c)(),Object(c.useState)(!0)),n=Object(r.a)(a,2),l=n[0],u=n[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),m=o[0],b=o[1];Object(c.useEffect)((function(){u(!0),function(){var e=Object(p.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.block();case 2:return t=e.sent,e.next=5,F.a.getPastEvents("multiSigWallet","Submission",{},t-5e3);case 5:a=e.sent,b(a.reverse()),u(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then().catch(console.error)}),[t]);var d=Object(c.useCallback)((function(t){e.onSelect(t)}),[e]);return s.a.createElement("div",{className:"bg-white rounded shadow p-3"},s.a.createElement("h3",{className:"mb-3 font-semibold"},"Last submissions"),l&&s.a.createElement("div",{className:"flex w-full flex-col space-y-4"},s.a.createElement(re.b,null),s.a.createElement(re.b,null),s.a.createElement(re.b,null)),!l&&0===m.length&&s.a.createElement(s.a.Fragment,null,"No submissions in last ",5e3," blocks."),!l&&m.length>0&&s.a.createElement("div",{className:"grid grid-cols-3 gap-4"},m.map((function(e){return s.a.createElement(le,{key:e.returnValues.transactionId,item:e,onSelect:d})}))))}function le(e){var t=e.item,a=e.onSelect,n=Object(c.useCallback)((function(e){a(e)}),[a]);return s.a.createElement("div",{className:"rounded shadow p-3 text-xs"},s.a.createElement("div",{className:"flex flex-row justify-between space-x-4 mb-2"},s.a.createElement("div",{className:"text-gray-600"},"Tx ID:"),s.a.createElement("div",null,s.a.createElement("a",{href:"#!",onClick:function(){return n(t.returnValues.transactionId)}},t.returnValues.transactionId.toLocaleString()))),s.a.createElement("div",{className:"flex flex-row justify-between space-x-4 mb-2"},s.a.createElement("div",{className:"text-gray-600"},"Block:"),s.a.createElement("div",null,t.blockNumber.toLocaleString())),s.a.createElement("div",{className:"flex flex-row justify-between space-x-4"},s.a.createElement("div",{className:"text-gray-600"},"Tx Hash:"),s.a.createElement("div",null,s.a.createElement(ce.a,{txHash:t.transactionHash,className:"text-black hover:text-gray-700"}))))}function ue(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],n=t[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,null,s.a.createElement("title",null,"Sovryn MultiSig"),s.a.createElement("meta",{name:"description",content:"MultiSig UI"})),s.a.createElement(i,null),s.a.createElement("main",{className:"w-full flex-grow"},s.a.createElement("div",{className:"bg-black"},s.a.createElement("div",{className:"container"},s.a.createElement("h2",{className:"text-white pt-20 pb-8"},"Sovryn MultiSig"))),s.a.createElement("div",{className:"container py-5"},s.a.createElement(J,null),s.a.createElement("div",{className:"mt-5 md:flex md:flex-row md:space-x-4"},s.a.createElement("div",{className:"md:w-4/12"},s.a.createElement(X,{transactionId:a})),s.a.createElement("div",{className:"mt-5 md:mt-0 md:w-8/12"},s.a.createElement(se,{onSelect:function(e){return n(e)}}))))),s.a.createElement(o,null))}}}]);